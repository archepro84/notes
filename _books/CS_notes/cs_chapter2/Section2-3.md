# Chapter 2 Network(네트워크)

# Section 2.3 네트워크 기기

## 개론

> 💡 **하나의 네트워크**는 **여러 개의 네트워크 기기**를 기반으로 구축됩니다.
>

## 📌 네트워크 기기의 종류

- 네트워크 기기는 계층별로 처리할 수 있는 역할과 범위가 다릅니다.
- 상위 계층을 처리하는 기기는 하위 계층을 처리할 수 있지만, 그 반대인 경우는 없습니다.
    - 예를 들어, **라우터**는 물리 계층과 데이터 링크 계층을 처리할 수 있지만, 어플리케이션 계층을 처리할 수는 없습니다.
- 어플리케이션 계층 (Application Layer) : L7 스위치
- 인터넷 계층 (Internet Layer) : L3 스위치, 라우터
- 데이터 링크 계층 (Data Link Layer) : L2 스위치, 브릿지
- 물리 계층 (Physical Layer) : 리피터, 허브, NIC, AP

## 📦 어플리케이션 계층 (Application Layer)

### L7 스위치 (Layer 7 Switch)

- 스위치는 여러 장비를 연결 및 데이터 통신을 중재할 수 있습니다.
- 목적지가 연결된 포트(Port)로만 전기 신호를 보내 데이터를 전송하는 **통신 네트워크 장비**입니다.
- 로드밸런서 (Load Balancer)라고 불리며, 클라이언트로부터 전달받은 요청을 여러 대의 서버로 분산시켜주는 역할을 합니다.
- **URL, 서버, 캐시, 쿠키**들을 기반으로 트래픽을 분산합니다.
- 불필요한 외부 데이터를 걸러내는 **필터링 기능**과 응용프로그램 수준의 **트래픽 모니터링**도 가능합니다.

### L4 스위치 vs L7 스위치

- **L4 스위치**는 전송 계층을 처리하는 기기이며 **TCP/UDP**를 기반으로 트래픽을 분산합니다.
    - 메시지를 기반으로 인식하지 못하고, IP와 Port를 기반으로 트래픽을 분산합니다.
- **L7 스위치**는 IP, Port 외에도 URL, HTTP Header, Cookie 등을 기반으로 트래픽을 분산합니다.
- L4 스위치는 NLB(Network Load Balancer)라고도 불리며, L7 스위치는 ALB(Application Load Balancer)라고도 불립니다.

### 헬스 체크 (Health Check)

헬스 체크 (Health Check)란 **일정한 전송 주기**와 **재전송 횟수**를 설정하여, 반복적으로 서버에 요청을 보내 서버의 상태가 정상 또는 비정상인 여부를 확인할 때 사용합니다.    
`TCP`, `HTTP` 등 다양한 방법으로 요청을 보내며, 만약 자주 요청을 보내거나, 많은 횟수로 재전송을 시도하면 서버에 부하가 걸리게 되므로 요청 횟수를 적절하게 설정해야 합니다

## 📦 인터넷 계층 (Internet Layer)

### 라우터 (Router)

라우터 (Router)는 여러 개의 네트워크를 **연결, 분할, 구분** 시켜주며, 데이터를 전달하는 장비입니다.
**다른 네트워크의 장치**와 서로 데이터를 주고받을 때 **패킷 소모를 최소화**하고, **경로를 최적화**하여, **최단 경로로 패킷을 전달**하는 역할을 합니다.

### L3 스위치 (Layer 3 Switch)

L3 스위치 (Layer 3 Switch)는 라우팅 기능과 L2 스위치의 기능을 모두 가지고 있습니다.  
라우터는 **소프트웨어** 기반의 라우팅과 **하드웨어** 라우팅을 하는 것으로 나누어지고, L3 스위치는 **하드웨어** 기반의 라우팅을 수행합니다.

## 📦 데이터 링크 계층 (Data Link Layer)

### L2 스위치 (Layer 2 Switch)

L2 스위치 (Layer 2 Switch)는 **MAC** 주소를 **MAC** 주소 테이블을 통해 관리하고, 연결된 장치로부터 패킷이 왔을 때 패킷 전송을 담당합니다.  
상위 계층의 개념인 **IP 주소**를 이해하지 못하므로, **IP 주소** 기반으로 패킷을 전달할 수 없습니다.

### 브릿지 (Bridge)

브릿지 (Bridge)는 두 개의 근거리 통신망(LAN)을 연결하는 장치로 **Port와 Port** 사이의 다리 역할을 하며, 받아온 MAC 주소를 MAC 주소 테이블로 관리합니다.

## 📦 물리 계층 (Physical Layer)

### NIC (Network Interface Card)

NIC (Network Interface Card)는 **LAN Card**이자 2대 이상의 컴퓨터 네트워크를 구성하는 데 사용합니다.  
각각의 NIC는 **MAC 주소**를 가지고 있으며, **MAC 주소**는 **전 세계에서 유일**합니다.

### AP (Access Point)

AP (Access Point)는 패킷을 복사하는 기기입니다.  
AP에 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술(Wi-Fi, Bluetooth, ZigBee 등)을 사용하여 AP에 접속하면, AP는 패킷을 복사하여 유선 LAN으로 전송합니다.
