# Chapter 2 Network(네트워크)

# Section 2.5 HTTP

## 개론

> 💡 HTTP(HyperText Transfer Protocol)는 어플리케이션 계층(Application Layer)으로서 웹 서비스 통신에 사용됩니다.
>

## 📌 HTTP/1.0

> 💡 **HTTP/1.0**은 한 연결당 하나의 요청을 처리할 수 있습니다. 서버로부터 파일을 가져올 때마다 TCP의 **3-way handshake**를 지속적으로 열어야 하므로, `RTT`가 증가하게 됩니다.
>

### 📒 HTTP/1.0 용어 정리하기

- `RTT`(Round Trip Time)
    - 클라이언트가 서버에 패킷 요청(Request)을 보내고 응답(Response)을 받는데 걸리는 시간, 패킷의 왕복 시간
- 이미지 스플리팅(Image Splitting)
    - 여러 개의 이미지를 하나의 이미지로 합쳐서 요청하는 방법
- 코드 압축
    - 코드에서 개행 문자 및 빈칸을 없애서 코드의 크기를 최소화하는 방법
- 인코딩(Encoding)
    - 데이터를 다른 형태 또는 형식으로 변환하는 것
    - **표준화, 보안, 처리 속도 향상, 저장 공간 절약** 등을 위해 사용합니다.

## 📌 HTTP/1.1

> 💡 **HTTP/1.1**은 한 번의 TCP 연결을 통해 여러 개의 파일 송수신 및 요청을 처리할 수 있습니다.  
> **TCP의 3-way handshake** 를 가장 처음 1번만 수행합니다.

## 📌 HTTP/2

> 💡 **HTTP/2**는 HTTP/1.x보다 지연 시간(Latency)이 적고, 효율적인 통신을 위해 **다중화**를 지원합니다. 멀티플렉싱, 헤더 압축, 서버 푸시, 요청의 우선순위 처리를 지원하는
> 프로토콜입니다.
>

### 멀티플렉싱(Multiplexing)

멀티플렉싱(Multiplexing)은 **하나의 TCP 연결**을 통해 **여러 개의 메시지**를 동시에 주고받을 수 있게 하는 기술입니다.
만약 특정 스트림(Stream)의 **패킷이 손상**되었더라도, 다른 스트림에는 영향을 끼치지 않는 특징을 가지고 있습니다.

### 📒 HTTP/2 용어 정리하기

- 스트림(Stream)
    - 시간이 지남에 따라 사용할 수 있게 되는 데이터 요소를 가리키는 **데이터 흐름**

## 📌 HTTPS (HTTP over TLS)

> 💡 **HTTPS**는 어플리케이션 계층과 전송 계층 사이에 신뢰할 수 있는 계층인 SSL/TLS 계층을 넣은 신뢰할 수 있는 HTTP 요청을 의미합니다.
>

### SSL/TLS

> 💡 SSL(Secure Socket Layer)은 **보안 소켓 계층**으로, **인터넷 상에서 데이터를 암호화**하여 전송하는 프로토콜입니다.  
> 💡 TLS(Transport Layer Security)는 **전송 계층 보안**으로, **SSL의 후속 프로토콜**입니다.
>
SSL/TLS는 전송 계층에서 보안을 제공하는데, 클라이언트와 서버가 통신할 때 제3자가 메시지를 도청하거나 변조하지 못하도록 합니다.

### 📦 HTTPS 인증 메커니즘

> 💡 HTTPS 인증 메커니즘은 CA(Certificate Authority)에서 발급받은 인증서를 기반으로 수행됩니다. CA에서 발급한 인증서는 연결을 시작할 때, 필요한 "공개키(public key)"를
> 클라이언트에게 전달하여 현재 접속한 서버가 신뢰할 수 있는 서버임을 증명합니다.
>

**CA 발급 과정**

- 1️⃣ 자신의 사이트 정보와 공개키를 CA에 제출합니다.
- 2️⃣ CA는 전달받은 사이트 정보를 검증합니다.
- 3️⃣ CA는 공개키를 해시한 값인 지문(finger print)을 사용하는 비밀키를 기반으로 CA 인증서를 발급합니다.

**HTTPS 구축 방법**

- 1️⃣ 직접 CA에서 구매한 인증키를 기반으로 HTTPS 서비스 구축
- 2️⃣ 무료로 제공되는 Let's Encrypt를 기반으로 HTTPS 서비스 구축
- 3️⃣ 서버 앞단에 HTTPS를 제공하는 로드밸런스를 구축
- 4️⃣ 서버 앞단에 HTTPS를 제공하는 CDN(Content Delivery Network)을 구축

### 📒 HTTPS 용어 정리하기

- 세션 (Session)
    - 운영체제(OS)가 특정 사용자로부터 자신의 리소스를 사용할 수 있도록 허용하는 시간을 뜻합니다.
    - 사용자는 특정 시간동안 응용 프로그램 또는 운영 체제 리소스들을 사용할 수 있습니다.
- 보안 세션(Secure Session)
    - 클라이언트와 서버가 키를 공유하여 **인증, 인증 확인** 등의 작업이 일어날 때 일회성으로 사용되는 세션을 의미합니다.
- 개인키(Private Key)
    - 비밀키(Private Key)는 **암호화된 데이터를 복호화**하는데 사용되는 키입니다.
    - 데이터를 복호화할 때 사용하므로, 외부로 노출되지 않고, 자신만이 소유해야합니다.
- 공개키(Public Key)
    - 공개키 암호화 방식에서 사용되는 키로, **개인키와 짝을 이루는 키**입니다.
- 해시(Hash)
    - 해시는 다양한 길이를 가진 데이터를 고정된 길이를 가진 데이터로 **매핑(mapping)한 값**을 의미합니다.
- 해싱(Hashing)
    - 해싱은 **데이터를 고정된 길이의 값으로 변환**하는 것을 의미합니다.

